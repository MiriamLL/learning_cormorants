<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Cormoranes</title>
    <meta charset="utf-8" />
    <meta name="author" content="Alonso Huyhua, Carolina Meza y Miriam Lerma" />
    <link href="CormoranesGrupo6_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="CormoranesGrupo6_files/remark-css-0.0.1/chocolate-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Cormoranes
## Grupo 6
### Alonso Huyhua, Carolina Meza y Miriam Lerma
### 01-Febrero-2021

---

class: center, middle

### Distancias de la colonia y profundidad de buceo del guanay ***(Phalacrocorax bougainvillii)***, antes y durante la temporada de pesca.

&lt;img src="https://cdn.download.ams.birds.cornell.edu/api/v1/asset/107157281/1800" width="200" height="200" /&gt;

---

class: center, middle

## 1. Antecedentes

Los guanay ***(Phalacrocorax bougainvillii)*** se alimentan principalmente de anchoveta ***(Engraulis rigens)***

&lt;img src="https://tumi.lamolina.edu.pe/infopes/wp-content/uploads/2018/06/anchoveta.jpg" width="200" height="100" /&gt;

En Per칰, la temporada de pesca coincide con la temporada de reproducci칩n de los guanays.

---

class: center, middle

## 2. Justificaci칩n


- Conocer si hay diferencias entre sexos en las 치reas y profundidades que utilizan para alimentarse nos ayuda a mejorar medidas de protecci칩n de la especie.
- As칤 como tener informaci칩n de que sexo puede ser m치s vulnerable a la temporada de pesca.

游

---

## 3. Objetivos

Evaluar:   
- Si las hembras bucean m치s profundo o viajan m치s lejos que los machos.  

--

- Si los guanay bucean m치s profundo o viajan m치s lejos en Julio (cuando est치 abierta la pesca) comparado con Abril (antes de que se abra la temporada).

---

class: center

## 4. Metodolog칤a

Se tomaron muestras de hembras y machos de guanay (n=20), antes (Abril) y durante (Julio) la temporada de pesca de anchoveta.


Los datos se tomaron en la Isla Lobos de Afuera en Per칰.







&lt;img src="https://raw.githubusercontent.com/MiriamLL/Curso_Cormoranes/main/PlotAreadeEstudio.jpg" width="250" height="400" /&gt;

---

class: center, middle

## 4. Metodolog칤a

--

## Un poco de R


---

## 4. Metodolog칤a
### 4.1.1. Importar excels

Con que tengan una carpeta con los excels del curso.

Usando estos paquetes:

```r
library(here)
library(readxl)
```

Siguiendo este c칩digo:

```r
MainFolder&lt;-here()
DataFolder&lt;-paste0(MainFolder,'//0Excels')
files_Cormorant &lt;- list.files(DataFolder,
                              pattern="*.xlsx", 
                              full.names=TRUE)
List_Cormoranes &lt;- lapply(files_Cormorant, 
                          read_excel)
TracksCormoranes &lt;- do.call("rbind", 
                            List_Cormoranes)
```

---

## 4. Metodolog칤a
### 4.1.2. Unir excels

Quitamos los NA's

```r
TracksCormoranes &lt;- TracksCormoranes[complete.cases(TracksCormoranes$Latitude),]
```

Renombrar para m치s r치pido

```r
Tracks&lt;-TracksCormoranes
```

Queda as칤

```r
str(Tracks)
```

```
tibble [1,185,421 x 9] (S3: tbl_df/tbl/data.frame)
 $ TagID      : chr [1:1185421] "AD01" "AD01" "AD01" "AD01" ...
 $ Date       : POSIXct[1:1185421], format: "2017-04-01" "2017-04-01" ...
 $ Time       : POSIXct[1:1185421], format: "1899-12-31 13:28:15" "1899-12-31 13:38:06" ...
 $ Depth      : num [1:1185421] 0 0 0 0 0 0 0 0 0 0 ...
 $ Temperature: num [1:1185421] 23.3 28.2 28.2 28.2 28.2 28.2 28.1 28.1 28.1 28.1 ...
 $ Latitude   : num [1:1185421] -6.95 -6.95 -6.95 -6.95 -6.95 ...
 $ Longitude  : num [1:1185421] -80.7 -80.7 -80.7 -80.7 -80.7 ...
 $ Height     : num [1:1185421] NA 42 26 20 24 20 20 22 22 22 ...
 $ Speed      : num [1:1185421] NA 33.3 33.3 33.3 33.3 33.3 33.3 37 33.3 33.3 ...
```

---

## 4. Metodolog칤a
### 4.2.1. Parametros del viaje
M치ximos de buceo 

```r
Tracks$Depth&lt;-as.numeric(Tracks$Depth) 
```

Calcular los m치ximos de buceo de cada individuo

```r
ProfundidadBuceos&lt;-Tracks %&gt;%
  group_by(TagID) %&gt;%
   summarise_at(c("Depth"), max, na.rm = TRUE) 
```

Queda as칤

```r
head(ProfundidadBuceos,8)
```

```
## # A tibble: 8 x 2
##   TagID Depth
##   &lt;chr&gt; &lt;dbl&gt;
## 1 AD01  5.67 
## 2 AD02  0    
## 3 AD03  5.87 
## 4 AD04  0.280
## 5 AD05  8.83 
## 6 AD06  0    
## 7 AD07  9.26 
## 8 AD08  9.58
```


---

## 4. Metodolog칤a
### 4.2.2. Parametros del viaje
Distancias m치ximas

Paquetes

```r
library(geosphere) #distm
library(rgeos) #coordinates
```

Transformamos a datos espaciales
- Los tracks:

```r
TracksSp&lt;-Tracks
TracksSp$lat&lt;-TracksSp$Latitude
TracksSp$lon&lt;-TracksSp$Longitude
coordinates(TracksSp)&lt;-~lon+lat
```

- La colonia:



```r
LaColonia&lt;- SpatialPoints(cbind(MiColonia$Longitude,MiColonia$Latitude)) 
```

---

## 4. Metodolog칤a
### 4.2.2. Parametros del viaje
Distancias m치ximas

Calculamos distancia en metros y transformamos a kilometros

```r
Metros&lt;-(distm(TracksSp,MiColonia,fun = distHaversine))
TracksDist&lt;-cbind(Tracks,Metros)
TracksDist$Km&lt;-TracksDist$Metros/1000
```


```r
head(TracksDist)
```

```
##   TagID       Date                Time Depth Temperature Latitude Longitude
## 1  AD01 2017-04-01 1899-12-31 13:28:15     0        23.3 -6.94793 -80.72884
## 2  AD01 2017-04-01 1899-12-31 13:38:06     0        28.2 -6.94793 -80.72884
## 3  AD01 2017-04-01 1899-12-31 13:38:07     0        28.2 -6.94798 -80.72881
## 4  AD01 2017-04-01 1899-12-31 13:38:08     0        28.2 -6.94806 -80.72876
## 5  AD01 2017-04-01 1899-12-31 13:38:09     0        28.2 -6.94813 -80.72870
## 6  AD01 2017-04-01 1899-12-31 13:38:10     0        28.2 -6.94821 -80.72864
##   Height Speed    Metros          Km
## 1     NA    NA  0.000000 0.000000000
## 2     42  33.3  0.000000 0.000000000
## 3     26  33.3  6.478402 0.006478402
## 4     20  33.3 16.957999 0.016957999
## 5     24  33.3 27.111081 0.027111081
## 6     20  33.3 38.209457 0.038209457
```

---

## 4. Metodolog칤a
### 4.2.2. Parametros del viaje
Distancias m치ximas

Calcular la distancia maxima de cada individuo

```r
DistanciaColonia&lt;-TracksDist %&gt;%
  group_by(TagID) %&gt;%
   summarise_at(c("Km"), max, na.rm = TRUE) 
```

Queda as칤

```r
head(DistanciaColonia,8)
```

```
## # A tibble: 8 x 2
##   TagID    Km
##   &lt;chr&gt; &lt;dbl&gt;
## 1 AD01   20.9
## 2 AD02   18.5
## 3 AD03   18.3
## 4 AD04   14.7
## 5 AD05   23.0
## 6 AD06   19.2
## 7 AD07   18.0
## 8 AD08   17.3
```

---

## 4. Metodolog칤a
### 4.3.1. Crear tabla

Importar datos de medidas

```r
Medidas&lt;-read_excel(here("./1Datos/Data_cormorantX.xlsx"))
colnames(Medidas)[1]&lt;-'TagID'
```

Unir medidas con distancias m치ximas y profundidades de buceo

```r
TablaDistancias&lt;-left_join(Medidas,DistanciaColonia,by='TagID')
TablaCompleta&lt;-left_join(TablaDistancias,ProfundidadBuceos,by='TagID')
```

Tabla completa

```r
head(TablaCompleta)
```

```
## # A tibble: 6 x 8
##   TagID  Year Month Sex   Weight  Wing    Km Depth
##   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 AD01   2017 Apr   M      2399.  35    20.9 5.67 
## 2 AD02   2017 Apr   M      2392.  35.2  18.5 0    
## 3 AD03   2017 Apr   F      2450.  35.5  18.3 5.87 
## 4 AD04   2017 Apr   F      2609.  34.8  14.7 0.280
## 5 AD05   2017 Apr   F      2664   36    23.0 8.83 
## 6 AD06   2017 Apr   M      2278.  34.6  19.2 0
```


---

## 4. Metodolog칤a
### 4.4.1. Promedios 
M치ximos de buceo


```r
TablaCompleta %&gt;%
  group_by(Sex,Month) %&gt;%
  summarise_at(c("Depth"), funs(mean, sd), na.rm = TRUE) 
```

```
## # A tibble: 4 x 4
## # Groups:   Sex [2]
##   Sex   Month  mean    sd
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 F     Apr    6.21  3.66
## 2 F     Jul   27.5   5.87
## 3 M     Apr    5.06  4.93
## 4 M     Jul   21.6   4.07
```

---

## 4. Metodolog칤a
### 4.4.1. Promedios 
M치ximos de buceo

C칩digo para figura

```r
PlotBuceos&lt;-ggplot(TablaCompleta, aes(x=Month, y=Depth,fill=Sex))+
  xlab("Temporada de pesca")+ylab("Profundidad de buceo maxima \n (m)")+
  geom_boxplot()+
    scale_fill_manual(values=c("#f4a261","#2a9d8f","#f4a261","#2a9d8f")) +
  theme_classic()+
  theme(axis.text.x =  element_text(size=12),
        axis.title.x = element_text(size=12),
        axis.text.y =  element_text(size=12),
        axis.title.y = element_text(size=12),
        panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        panel.background = element_blank(),
        legend.position = "top")
```

---

## 4. Metodolog칤a
### 4.4.1. Promedios 
M치ximos de buceo

Figura preliminar


&lt;img src="https://raw.githubusercontent.com/MiriamLL/Curso_Cormoranes/main/PlotBuceos.jpg" width="500" height="300" /&gt;

---

## 4. Metodolog칤a
### 4.4.2. Promedios 
Distancias m치ximas


```r
TablaCompleta %&gt;%
  group_by(Sex,Month) %&gt;%
  summarise_at(c("Km"), funs(mean, sd), na.rm = TRUE) 
```

```
# A tibble: 4 x 4
# Groups:   Sex [2]
  Sex   Month  mean    sd
  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1 F     Apr    17.4  3.66
2 F     Jul    34.8 14.8 
3 M     Apr    20.6  3.39
4 M     Jul    57.2 21.4 
```

---

## 4. Metodolog칤a
### 4.4.2. Promedios 
Distancias m치ximas

C칩digo figura

```r
PlotDistancias&lt;-ggplot(TablaCompleta, aes(x=Month, y=Km,fill=Sex))+
  geom_boxplot()+
  xlab("Temporada de pesca")+ylab("Distancia de la colonia \n (m)")+
  geom_boxplot()+
    scale_fill_manual(values=c("#f4a261","#2a9d8f","#f4a261","#2a9d8f")) +
  theme_classic()+
  theme(axis.text.x =  element_text(size=12),
        axis.title.x = element_text(size=12),
        axis.text.y =  element_text(size=12),
        axis.title.y = element_text(size=12),
        panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        panel.background = element_blank(),
        legend.position = "top")
```

---

## 4. Metodolog칤a
### 4.4.2. Promedios 
Distancias m치ximas

Figura preliminar: distancias


&lt;img src="https://raw.githubusercontent.com/MiriamLL/Curso_Cormoranes/main/PlotDistancias.jpg" width="500" height="300" /&gt;

---

## 4. Metodolog칤a
### 4.4.2. Promedios 
Distancias m치ximas

Funci칩n para crear mapas

```r
Ploteame&lt;-function(Datos=Datos){
  MiPlot&lt;-ggplot()+
    geom_sf(data = world) +
    coord_sf(xlim = c(-81, -80), ylim = c(-7.5, -6.5), expand = FALSE)+
    geom_path(data = Datos, aes(x = Longitude, y = Latitude, color=TagID), size=1)+
  theme_bw()+
    theme(panel.border = element_rect(linetype = "solid", colour = "black", size=1.5),
        axis.title = element_text(size=8),axis.ticks.length = unit(3, "pt"),
        axis.text.x =  element_text(size=8),axis.text.y =  element_text(size=8),
        panel.grid.major = element_blank(),panel.grid.minor = element_blank(),
        legend.title = element_text(size=8),legend.text = element_text(size=8),
        panel.background = element_rect(fill = "white"),legend.justification=c(0,0), 
        plot.title = element_text(size = 15, face = "bold"),
        legend.position='top') + 
   labs(x = "Longitude", y="Latitude")+
   geom_point(data = MiColonia, mapping = aes(x = Longitude, y = Latitude), 
             color = "black", fill="white", size = 10,shape=21,stroke = 3)
  return(MiPlot)
}
```

---

## 4. Metodolog칤a
### 4.4.2. Promedios 
Crear un mapa por sexo y mes

Agregar medidas a Tracks

```r
TracksC&lt;-left_join(Tracks,Medidas,by='TagID')
```

Creamos mapas por sexo y etapa (usando la funcion de 'Ploteame') 

```r
FA&lt;-subset(TracksC,TracksC$Sex=='F' &amp; TracksC$Month=='Apr')
MapaA&lt;-Ploteame(Datos=FA)+
  ggtitle('Hembras Abril')
```


```r
FD&lt;-subset(TracksC,TracksC$Sex=='F' &amp; TracksC$Month=='Jul')
MapaB&lt;-Ploteame(Datos=FD)+
  ggtitle('Hembras Julio')
```


```r
MA&lt;-subset(TracksC,TracksC$Sex=='M' &amp; TracksC$Month=='Apr')
MapaC&lt;-Ploteame(Datos=MA)+
  ggtitle('Machos Abril')
```


```r
MD&lt;-subset(TracksC,TracksC$Sex=='M' &amp; TracksC$Month=='Jul')
MapaD&lt;-Ploteame(Datos=MD)+
  ggtitle('Machos Julio')
```

---

## 4. Metodolog칤a
### 4.4.2. Promedios 

Paquete

```r
library(cowplot)
```

Unir plot

```r
MapasSexoVeda&lt;-plot_grid(MapaA,MapaB,
                         MapaC,MapaD,ncol = 2, nrow=2)
```



---

## 4. Metodolog칤a
### 4.4.2. Promedios 

Tracks por individuos  

&lt;img src="https://raw.githubusercontent.com/MiriamLL/Curso_Cormoranes/main/MapasSexoVeda.jpg" width="500" height="400" /&gt;


---

## 4. Metodolog칤a
### 4.5.1. Estadisticos

- De acuerdo a nuestros objetivos lo mejor es usar una ANOVA de dos v칤as. 
- Para evaluar el efecto de dos factores (Sexo y Temporada de pesca) en una variable de respuesta (maximo de buceos y distancia maxima de los viajes, respectivamente). 





Nota: ***Son solo m치ximos, no hicimos correccion de ceros ni calculamos parametros por viaje por individuo***

---

## 4. Metodolog칤a
### 4.5.1. Estadisticos

M치ximos de buceo

Modelo

```r
ModeloBuceos&lt;-aov(Depth~Sex+Month+Sex:Month, data=TablaCompleta)
summary(ModeloBuceos)
```

```
            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
Sex          1   26.1    26.1   1.223    0.286    
Month        1 1659.9  1659.9  77.646 2.57e-07 ***
Sex:Month    1   26.5    26.5   1.239    0.283    
Residuals   15  320.7    21.4                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
1 observation deleted due to missingness
```

--

La **temporada de pesca** es significativo, independientemente del **sexo**.

---

## 4. Metodolog칤a
### 4.5.1. Estadisticos

Se cumplen los supuestos



- Homogeneidad de las varianzas

```r
leveneTest(Depth~Sex:Month, data=TablaCompleta)
```

```
Levene's Test for Homogeneity of Variance (center = median)
      Df F value Pr(&gt;F)
group  3  0.4533 0.7188
      15               
```

- Normalidad de los residuales

```r
aov_residuals &lt;- residuals(object = ModeloBuceos)
shapiro.test(x = aov_residuals )
```

```

	Shapiro-Wilk normality test

data:  aov_residuals
W = 0.93973, p-value = 0.2607
```



---

## 4. Metodolog칤a
### 4.5.1. Estadisticos
Distancias m치ximas

Para las distancias lo transformamos a escala logaritmica para mejorar la normalidad de los residuales. 

```r
modeloKm&lt;-aov(formula=log(Km)~Sex*Month,data=TablaCompleta)
summary(modeloKm)
```

```
            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
Sex          1  0.700   0.700   8.199   0.0118 *  
Month        1  3.182   3.182  37.295 2.01e-05 ***
Sex:Month    1  0.142   0.142   1.663   0.2167    
Residuals   15  1.280   0.085                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
1 observation deleted due to missingness
```

--

La **temporada de pesca** es significativo y **sexo** tambien, pero no hay interacci칩n entre ambos.


---

## 4. Metodologia
### 4.5.1. Estadisticos

Se cumplen los supuestos

- Homogeneidad de las varianzas

```r
leveneTest(log(Km)~Sex:Month, data=TablaCompleta)
```

```
Levene's Test for Homogeneity of Variance (center = median)
      Df F value Pr(&gt;F)
group  3  2.3255 0.1161
      15               
```

- Normalidad de los residuales

```r
aov_residuals &lt;- residuals(object = modeloKm)
shapiro.test(x = aov_residuals)
```

```

	Shapiro-Wilk normality test

data:  aov_residuals
W = 0.95438, p-value = 0.4674
```

---

---

## 5. Discusi칩n
### 5.1. M치ximos de buceo

Estos analisis preliminares sugieren que **no** hay diferencias significativas entre hembras y machos en las profundidades de buceo pero **si hay diferencias** entre antes y durante la temporada de pesca.   

Ambos sexos bucean **mas profundo** durante la temporada de pesca.  


&lt;img src="https://raw.githubusercontent.com/MiriamLL/Curso_Cormoranes/main/PlotBuceos.jpg" width="400" height="300" /&gt;

---

## 5. Discusi칩n
### 5.1. M치ximos de buceo

Lo cual apuntaria a:  
a) Cambio en la dieta.  
b) Cambio en las condiciones ambientales, que obliga a los cormoranes a bucear mas profundo.   
c) Un efecto de la temporada de pesca, tal vez un decremento en la disponibilidad de alimento cuando entran en competencia con las pesquerias, que obliga a los cormoranes a bucear mas profundo.  

---


## 5. Discusi칩n
### 5.1. Distancias m치ximas

Estos analisis preliminares sugieren que **si** hay diferencias significativas en lasdistancias maximas que viajan entre hembras y machos, y entre durante y despues de la veda.  

Los machos viajan **mas lejos** que las hembras, y ambos viajan mas lejos en julio.

&lt;img src="https://raw.githubusercontent.com/MiriamLL/Curso_Cormoranes/main/MapasSexoVeda.jpg" width="400" height="300" /&gt;

---

## 5. Discusi칩n
### 5.1. Distancias m치ximas

Lo cual sugiere que hay:  
Un efecto del sexo, donde los machos viajan en general mas lejos que las hembras, por que consumen diferentes presas, por competencia entre sexos, o por diferentes roles durante la reproduccion.  

a) Cambio en la dieta, por especies que se encuentran mas lejos de la colonia.  
b) Cambio en las condiciones ambientales que afecten la disponibilidad de presas entre abril y julio, que obliga a los cormoranes a viajar mas lejos.  
c) Un efecto de la temporada de pesca, tal vez un decremento en la disponibilidad de alimento que obliga a los cormoranes a viajar mas lejos.


---

## 5. Discusi칩n
### 5.2. Antes de la temporada de pesca

Datos de Global Fishing Watch para el area general donde se encuentra la colonia para el mes de **abril** (antes de la temporada de pesca)

&lt;img src="https://raw.githubusercontent.com/MiriamLL/Curso_Cormoranes/main/GFW1.jpeg" width="500" height="250" /&gt;

Coincide en el tiempo en que los buceos son **menos** profundos, y los viajes de los cormoranes **m치s cortos**.

---

## 5. Discusi칩n
### 5.2. Durante de la temporada de pesca

Datos de Global Fishing Watch para el area general donde se encuentra la colonia para el mes de **julio** (durante de la temporada de pesca)

&lt;img src="https://raw.githubusercontent.com/MiriamLL/Curso_Cormoranes/main/GFW2.jpeg" width="500" height="250" /&gt;

Coincide en el tiempo en que los buceos son **m치s profundos**, y los viajes de los cormoranes **m치s largos**.

--

Es claro que el esfuerzo de pesca es mayor en Julio, y por lo tanto una razon potencial que puede explicar el cambio en el comportamiento de los cormoranes. 

---

# 6. Conclusiones

Encontramos que:


- No existen diferencias entre hembras y machos en las profundidades maximas del buceo, pero ambos sexos bucean mas profundo durante la temporada de pesca.

--

- Hay diferencias las distancias de la colonia, los machos viajan mas lejos que las hembras antes y durante la temporada de pesca y ambos sexos viajan mayores distancias durante la temporada de pesca. 


---

# 6. Conclusiones

- Esto sugiere que los sexos se alimentan en diferentes areas, pero a profundidades similares, pero que en julio los recursos estan menos disponibles y por lo tanto los cormoranes viajan mas lejos. 

--

- Aunque este es un estudio preliminar, conocer si hay diferencias entre sexos en las areas y profundidades que utilizan para alimentarse nos ayuda a mejorar medidas de proteccion de la especie.

--

- Por ahora la pesca parece afectar el comportamiento de los cormoranes ya sea por competencia directa o por que reducen la disponibilidad de presas.

- En algunas especies esto puede afectar su exito reproductivo, pero esto queda para estudios futuros.

---

class: center, middle

## Todo el material en

https://github.com/MiriamLL/Curso_Cormoranes

## Gracias 

&lt;img src="https://scontent.fham2-1.fna.fbcdn.net/v/t1.0-9/125369794_1017592122068396_8216067479374620034_o.png?_nc_cat=107&amp;ccb=2&amp;_nc_sid=09cbfe&amp;_nc_ohc=Zs_v8fI_zW8AX-BDdkX&amp;_nc_ht=scontent.fham2-1.fna&amp;oh=a34c8fc4c28cc3d838702576ed65b1a0&amp;oe=6033C883" width="300" height="200" /&gt;
!


游땏
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
